<ng-container *ngIf="showStartArrow">
  <button
    *ngIf="!prevArrowTemplate; else prevArrowTemplate"
    class="prev-thumbs"
    aria-hidden="true"
    (click)="slide(-1)"
  >
    <doe-chevron-icon></doe-chevron-icon>
  </button>
</ng-container>

<ul
  #thumbs
  [style.scrollBehavior]="scrollBehavior"
  tabindex="0"
  [attr.aria-label]="aria?.thumbnailsLabel"
>
  <li *ngIf="!items || !items.length"></li>
  <li
    #thumb
    *ngFor="let item of items; let i = index"
    [class.selected]="i === selectedIndex"
    aria-hidden="true"
    (click)="emitEvent(i, $event, thumbClick)"
    (mouseenter)="emitEvent(i, $event, thumbHover)"
  >
    <ng-container *ngIf="!thumbTemplate; else customThumbTemplate">
      <img
        [src]="item.thumbSrc || item.src"
        [alt]="item.alt"
        (error)="onItemErrored(item)"
      />

      <ng-container *ngIf="item._thumbFailed">
        <div *ngIf="!thumbErrorTemplate; else thumbErrorTemplate" class="error">
          <div class="icon">!</div>
        </div>
      </ng-container>
    </ng-container>

    <ng-template #customThumbTemplate>
      <ng-container
        *ngTemplateOutlet="
          thumbTemplate;
          context: { index: i, selectedIndex: selectedIndex, item: item }
        "
      ></ng-container>
    </ng-template>
  </li>
</ul>

<ng-container *ngIf="showEndArrow">
  <button
    *ngIf="!nextArrowTemplate; else nextArrowTemplate"
    class="next-thumbs"
    aria-hidden="true"
    (click)="slide(1)"
  >
    <doe-chevron-icon></doe-chevron-icon>
  </button>
</ng-container>
